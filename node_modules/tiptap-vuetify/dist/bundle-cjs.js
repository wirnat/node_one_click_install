"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var Vue=_interopDefault(require("vue")),tiptap=require("tiptap"),tiptapExtensions=require("tiptap-extensions"),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function __extends(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function __decorate(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function __metadata(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function __read(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}var reflectionIsSupported="undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function copyReflectionMetadata(t,e){forwardMetadata(t,e),Object.getOwnPropertyNames(e.prototype).forEach(function(n){forwardMetadata(t.prototype,e.prototype,n)}),Object.getOwnPropertyNames(e).forEach(function(n){forwardMetadata(t,e,n)})}function forwardMetadata(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach(function(o){var i=n?Reflect.getOwnMetadata(o,e,n):Reflect.getOwnMetadata(o,e);n?Reflect.defineMetadata(o,i,t,n):Reflect.defineMetadata(o,i,t)})}var fakeArray={__proto__:[]},hasProto=fakeArray instanceof Array;function createDecorator(t){return function(e,n,o){var i="function"==typeof e?e:e.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof o&&(o=void 0),i.__decorators__.push(function(e){return t(e,n,o)})}}function mixins(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vue.extend({mixins:t})}function isPrimitive(t){var e=typeof t;return null==t||"object"!==e&&"function"!==e}function warn(t){"undefined"!=typeof console&&console.warn("[vue-class-component] "+t)}function collectDataFromConstructor(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var o in t.$options.props)t.hasOwnProperty(o)||n.push(o);n.forEach(function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})};var o=new e;e.prototype._init=n;var i={};return Object.keys(o).forEach(function(t){void 0!==o[t]&&(i[t]=o[t])}),"production"!==process.env.NODE_ENV&&!(e.prototype instanceof Vue)&&Object.keys(i).length>0&&warn("Component class must inherit Vue or its descendant class when class property is used."),i}var $internalHooks=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function componentFactory(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach(function(t){if("constructor"!==t)if($internalHooks.indexOf(t)>-1)e[t]=n[t];else{var o=Object.getOwnPropertyDescriptor(n,t);void 0!==o.value?"function"==typeof o.value?(e.methods||(e.methods={}))[t]=o.value:(e.mixins||(e.mixins=[])).push({data:function(){var e;return(e={})[t]=o.value,e}}):(o.get||o.set)&&((e.computed||(e.computed={}))[t]={get:o.get,set:o.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return collectDataFromConstructor(this,t)}});var o=t.__decorators__;o&&(o.forEach(function(t){return t(e)}),delete t.__decorators__);var i=Object.getPrototypeOf(t.prototype),r=i instanceof Vue?i.constructor:Vue,a=r.extend(e);return forwardStaticMembers(a,t,r),reflectionIsSupported&&copyReflectionMetadata(a,t),a}var reservedPropertyNames=["cid","super","options","superOptions","extendOptions","sealedOptions","component","directive","filter"],shouldIgnore={prototype:!0,arguments:!0,callee:!0,caller:!0};function forwardStaticMembers(t,e,n){Object.getOwnPropertyNames(e).forEach(function(o){if(!shouldIgnore[o]){var i=Object.getOwnPropertyDescriptor(t,o);if(!i||i.configurable){var r=Object.getOwnPropertyDescriptor(e,o);if(!hasProto){if("cid"===o)return;var a=Object.getOwnPropertyDescriptor(n,o);if(!isPrimitive(r.value)&&a&&a.value===r.value)return}"production"!==process.env.NODE_ENV&&reservedPropertyNames.indexOf(o)>=0&&warn("Static property name '"+o+"' declared on class '"+e.name+"' conflicts with reserved property name of Vue internal. It may cause unexpected behavior of the component. Consider renaming the property."),Object.defineProperty(t,o,r)}}})}function Component(t){return"function"==typeof t?componentFactory(t):function(e){return componentFactory(e,t)}}Component.registerHooks=function(t){$internalHooks.push.apply($internalHooks,t)};var reflectMetadataIsSupported="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function applyMetadata(t,e,n){reflectMetadataIsSupported&&(Array.isArray(t)||"function"==typeof t||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function Prop(t){return void 0===t&&(t={}),function(e,n){applyMetadata(t,e,n),createDecorator(function(e,n){(e.props||(e.props={}))[n]=t})(e,n)}}function Watch(t,e){void 0===e&&(e={});var n=e.deep,o=void 0!==n&&n,i=e.immediate,r=void 0!==i&&i;return createDecorator(function(e,n){"object"!=typeof e.watch&&(e.watch=Object.create(null));var i=e.watch;"object"!=typeof i[t]||Array.isArray(i[t])?void 0===i[t]&&(i[t]=[]):i[t]=[i[t]],i[t].push({handler:n,deep:o,immediate:r})})}var TextIcon=function(){function t(t){this.text=t}return t.prototype.toString=function(){return this.text},t}(),VuetifyIcon=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t}(),toolbarConfig={color:"gray",flat:!0,dense:!0},Menu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toolbarConfig=toolbarConfig,e}return __extends(e,t),e.prototype.isButtonHasTextIcon=function(t){return this.getButtonIcon(t)instanceof TextIcon},e.prototype.isButtonHasVuetifyIcon=function(t){return this.getButtonIcon(t)instanceof VuetifyIcon},e.prototype.isButtonActive=function(t,e){return!!t[e.name]&&t[e.name](e.isActiveOptions)},e.prototype.onButtonClick=function(t,e){return t[e.name](e.clickOptions)},e.prototype.getButtonIcon=function(t){return t.icons[this.$tiptapVuetify.iconsGroup]},__decorate([Prop({type:Object,required:!0}),__metadata("design:type",tiptap.Editor)],e.prototype,"editor",void 0),__decorate([Prop({type:Array,default:function(){return[]}}),__metadata("design:type",Object)],e.prototype,"buttons",void 0),__decorate([Prop({type:[Array,Object],default:function(){return{}}}),__metadata("design:type",Object)],e.prototype,"toolbarAttributes",void 0),e=__decorate([Component({components:{EditorMenuBar:tiptap.EditorMenuBar}})],e)}(Vue);function normalizeComponent(t,e,n,o,i,r,a,u,s,c){"boolean"!=typeof a&&(s=u,u=a,a=!1);var l,p="function"==typeof n?n.options:n;if(t&&t.render&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0,i&&(p.functional=!0)),o&&(p._scopeId=o),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,s(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},p._ssrRegister=l):e&&(l=a?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),l)if(p.functional){var d=p.render;p.render=function(t,e){return l.call(e),d(t,e)}}else{var f=p.beforeCreate;p.beforeCreate=f?[].concat(f,l):[l]}return n}var normalizeComponent_1=normalizeComponent;const __vue_script__=Menu;var __vue_render__=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tiptap-vuetify-editor__toolbar"},[n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.commands,i=e.isActive;return[t._t("default",[n("v-toolbar",t._b({},"v-toolbar",Object.assign({},t.toolbarConfig,t.toolbarAttributes),!1),t._l(t.buttons,function(e){return n("v-tooltip",{key:e.tooltip.toString(),attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[n("v-btn",t._g({class:{"v-btn--active":t.isButtonActive(i,e)},attrs:{icon:""},on:{click:function(n){return t.onButtonClick(o,e)}}},a),[t.isButtonHasTextIcon(e)?n("b",[t._v("\n                  "+t._s(t.getButtonIcon(e))+"\n                ")]):t.isButtonHasVuetifyIcon(e)?n("v-icon",[t._v("\n                  "+t._s(t.getButtonIcon(e))+"\n                ")]):t._e()],1)]}}],null,!0)},[t._v(" "),[t._v(t._s(e.tooltip))]],2)}),1)],{buttons:t.buttons,isActive:i,commands:o})]}}],null,!0)})],1)},__vue_staticRenderFns__=[];const __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var _a,_b,_c,_d,Toolbar=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,void 0,!1,void 0,void 0,void 0),PACKAGE_NAME="tiptap-vuetify",VuetifyVuePrototypeProperty="$vuetify",EVENTS={INPUT:"input",INIT:"init"},PROPS={VALUE:"value",EXTENSIONS:"extensions",TOOLBAR_ATTRIBUTES:"toolbarAttributes",EDITOR_PROPERTIES:"editorProperties",NATIVE_EXTENSIONS:"nativeExtensions",PLACEHOLDER:"placeholder",OUTPUT_FORMAT:"outputFormat"},AbstractExtensionAdapter=function(){function t(t,e){this.options=t,this.extensionClass=e,this.extensionInstance=null,e&&(this.extensionInstance=new e(t))}return Object.defineProperty(t.prototype,"isActiveOptions",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickOptions",{get:function(){},enumerable:!0,configurable:!0}),t}(),theme={defaultIconsGroup:"md"},faIconsSize="fa-sm",icons={save:(_a={},_a.md=new VuetifyIcon("check"),_a.fa=new VuetifyIcon("fas fa-check "+faIconsSize),_a.mdi=new VuetifyIcon("mdi-check"),_a),cancel:(_b={},_b.md=new VuetifyIcon("link_off"),_b.fa=new VuetifyIcon("fas fa-unlink "+faIconsSize),_b.mdi=new VuetifyIcon("mdi-link-off"),_b),linkUpdate:(_c={},_c.md=new VuetifyIcon("link"),_c.fa=new VuetifyIcon("fas fas fa-link "+faIconsSize),_c.mdi=new VuetifyIcon("mdi-link"),_c),linkAdd:(_d={},_d.md=new VuetifyIcon("link"),_d.fa=new VuetifyIcon("fas fa-link "+faIconsSize),_d.mdi=new VuetifyIcon("mdi-link-plus"),_d)},Link=function(t){function e(e){return t.call(this,e,tiptapExtensions.Link)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){return[]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),en={extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Block quote"}}},Bold:{buttons:{bold:{tooltip:"Bold"}}},BulletList:{buttons:{bulletList:{tooltip:"Bulleted list"}}},Code:{buttons:{code:{tooltip:"Code"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Code block"}}},History:{buttons:{undo:{tooltip:"Undo"},redo:{tooltip:"Redo"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Horizontal line"}}},Italic:{buttons:{italic:{tooltip:"Italic"}}},Link:{bubble:{updateLink:"Update Link",addLink:"Add Link"}},OrderedList:{buttons:{orderedList:{tooltip:"Ordered list"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraph"}}},Strike:{buttons:{strike:{tooltip:"Strike"}}},Underline:{buttons:{underline:{tooltip:"Underline"}}},Heading:{buttons:{heading:{tooltip:function(t){return t.level+" level header"}}}}}},ru={extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Блок цитаты"}}},Bold:{buttons:{bold:{tooltip:"Жирный"}}},BulletList:{buttons:{bulletList:{tooltip:"Маркированный список"}}},Code:{buttons:{code:{tooltip:"Код"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Блок кода"}}},History:{buttons:{undo:{tooltip:"Назад"},redo:{tooltip:"Вперед"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Горизонтальная линия"}}},Italic:{buttons:{italic:{tooltip:"Курсивный"}}},Link:{bubble:{updateLink:"Обновить ссылку",addLink:"Добавить ссылку"}},OrderedList:{buttons:{orderedList:{tooltip:"Упорядоченный список"}}},Paragraph:{buttons:{paragraph:{tooltip:"Параграф"}}},Strike:{buttons:{strike:{tooltip:"Перечерктнутый"}}},Underline:{buttons:{underline:{tooltip:"Подчерктнутый"}}},Heading:{buttons:{heading:{tooltip:function(t){return"Заголовок "+t.level+" уровня"}}}}}},es={extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Cita en bloque"}}},Bold:{buttons:{bold:{tooltip:"Texto en negrita"}}},BulletList:{buttons:{bulletList:{tooltip:"Lista no ordenada"}}},Code:{buttons:{code:{tooltip:"Código"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Bloque de código"}}},History:{buttons:{undo:{tooltip:"Deshacer"},redo:{tooltip:"Rehacer"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Línea horizontal"}}},Italic:{buttons:{italic:{tooltip:"Texto en cursiva"}}},Link:{bubble:{updateLink:"Actualizar enlace",addLink:"Añadir enlace"}},OrderedList:{buttons:{orderedList:{tooltip:"Lista ordenada"}}},Paragraph:{buttons:{paragraph:{tooltip:"Párrafo"}}},Strike:{buttons:{strike:{tooltip:"Tachar texto"}}},Underline:{buttons:{underline:{tooltip:"Subrayar texto"}}},Heading:{buttons:{heading:{tooltip:function(t){return"Nivel de encabezado "+t.level}}}}}},pl={extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Blok cytatu"}}},Bold:{buttons:{bold:{tooltip:"Pogrubienie"}}},BulletList:{buttons:{bulletList:{tooltip:"Lista punktów"}}},Code:{buttons:{code:{tooltip:"Kod"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Blok kodu"}}},History:{buttons:{undo:{tooltip:"Cofnij"},redo:{tooltip:"Ponów"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Linia pozioma"}}},Italic:{buttons:{italic:{tooltip:"Kursywa"}}},Link:{bubble:{updateLink:"Zaktualizuj link",addLink:"Dodaj Link"}},OrderedList:{buttons:{orderedList:{tooltip:"Lista numerowana"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraf"}}},Strike:{buttons:{strike:{tooltip:"Przekreślenie"}}},Underline:{buttons:{underline:{tooltip:"Podkreślenie"}}},Heading:{buttons:{heading:{tooltip:function(t){return t.level+" nagłówek"}}}}}},fr={extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Bloc de citation"}}},Bold:{buttons:{bold:{tooltip:"Gras"}}},BulletList:{buttons:{bulletList:{tooltip:"Liste à puce"}}},Code:{buttons:{code:{tooltip:"Code"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Bloc de code"}}},History:{buttons:{undo:{tooltip:"Annuler"},redo:{tooltip:"Rétablir"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Ligne horizontale"}}},Italic:{buttons:{italic:{tooltip:"Italique"}}},Link:{bubble:{updateLink:"Mise à jour du lien",addLink:"Ajouter un lien"}},OrderedList:{buttons:{orderedList:{tooltip:"Liste ordonnée"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraphe"}}},Strike:{buttons:{strike:{tooltip:"Barré"}}},Underline:{buttons:{underline:{tooltip:"Souligné"}}},Heading:{buttons:{heading:{tooltip:function(t){return t.level+" niveau de titre"}}}}}},ConsoleLogger=function(){function t(){}return t.prototype.warn=function(t){console.warn(PACKAGE_NAME+": "+t)},t}(),ConsoleLogger$1=new ConsoleLogger,defaultLanguage="en",dictionary={en:en,ru:ru,es:es,pl:pl,fr:fr};function getCurrentLang(){return Vue.prototype.tiptapVuetifyPlugin.vuetifyLang||"defaultLanguage"}function getMsg(t,e){var n=getCurrentLang();dictionary[n]||(n=defaultLanguage,ConsoleLogger$1.warn('The current language "'+n+'" is not yet available. Using language "'+defaultLanguage+'" by default.'));var o=dictionary[n],i=t.split(".").reduce(function(t,e){return t[e]},o);return i instanceof Function?i(e):i}var namespace="$i18n",I18nMixin=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,namespace,{get:function(){return{getMsg:getMsg}},enumerable:!0,configurable:!0}),e=__decorate([Component],e)}(Vue),Menu$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.linkUrl=null,e.linkMenuIsActive=!1,e}return __extends(e,t),e.prototype.getMenuY=function(t){var e=document.documentElement.scrollHeight-window.innerHeight-window.scrollY,n=t.bottom-e;return window.innerHeight-n},e.prototype.getIconByKey=function(t){return icons[t][this.$tiptapVuetify.iconsGroup]},e.prototype.showLinkMenu=function(t){var e=this;this.linkUrl=t.href,this.linkMenuIsActive=!0,this.$nextTick(function(){e.$refs.linkInput.focus()})},e.prototype.hideLinkMenu=function(){this.linkUrl=null,this.linkMenuIsActive=!1},e.prototype.setLinkUrl=function(t,e){t({href:e}),this.hideLinkMenu(),this.editor.focus()},__decorate([Prop({type:Object,required:!0}),__metadata("design:type",tiptap.Editor)],e.prototype,"editor",void 0),e=__decorate([Component({components:{EditorMenuBubble:tiptap.EditorMenuBubble}})],e)}(mixins(I18nMixin));const __vue_script__$1=Menu$1;var __vue_render__$1=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("editor-menu-bubble",{staticClass:"tiptap-vuetify-editor__menububble",attrs:{editor:t.editor},on:{hide:t.hideLinkMenu},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.commands,i=e.isActive,r=e.getMarkAttrs,a=e.menu;return[n("v-tooltip",{attrs:{value:a.isActive,"position-x":a.left,"position-y":t.getMenuY(a),absolute:"",top:""}},[n("div",[t.linkMenuIsActive?n("form",{staticClass:"tiptap-vuetify-editor__menububble-form",on:{submit:function(e){return e.preventDefault(),t.setLinkUrl(o.link,t.linkUrl)}}},[n("v-text-field",{ref:"linkInput",attrs:{placeholder:"Link","hide-details":"",solo:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.hideLinkMenu(e)}},model:{value:t.linkUrl,callback:function(e){t.linkUrl=e},expression:"linkUrl"}}),t._v(" "),n("v-btn",{attrs:{color:"success",type:"submit",icon:""}},[n("v-icon",[t._v("\n              "+t._s(t.getIconByKey("save"))+"\n            ")])],1),t._v(" "),n("v-btn",{attrs:{color:"error",icon:""},on:{click:function(e){return t.setLinkUrl(o.link,null)}}},[n("v-icon",[t._v("\n              "+t._s(t.getIconByKey("cancel"))+"\n            ")])],1)],1):n("v-btn",{class:{"v-btn--active":i.link()},attrs:{color:"primary",small:""},on:{click:function(e){t.showLinkMenu(r("link"))}}},[n("v-icon",{attrs:{left:""}},[t._v("\n            "+t._s(t.getIconByKey(i.link()?"linkUpdate":"linkAdd"))+"\n          ")]),t._v("\n\n          "+t._s(i.link()?t.$i18n.getMsg("extensions.Link.bubble.updateLink"):t.$i18n.getMsg("extensions.Link.bubble.addLink"))+"\n        ")],1)],1)])]}}])})},__vue_staticRenderFns__$1=[];const __vue_inject_styles__$1=void 0,__vue_scope_id__$1=void 0,__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1;var Bubble=normalizeComponent_1({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},void 0,__vue_script__$1,void 0,!1,void 0,void 0,void 0),TiptapVuetify=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PROPS=PROPS,e.editor=null,e.buttons=[],e.emitAfterOnUpdate=!1,e.editorExtensions=[],e}var n,o,i,r,a,u,s;return __extends(e,t),Object.defineProperty(e.prototype,"hasLink",{get:function(){return this[PROPS.EXTENSIONS].some(function(t){return t instanceof Link})},enumerable:!0,configurable:!0}),e.prototype.onValueChange=function(t){this.emitAfterOnUpdate?this.emitAfterOnUpdate=!1:this.editor&&this.editor.setContent(t)},e.prototype.mounted=function(){var t=this,e=[];this[PROPS.EXTENSIONS].forEach(function(n){var o;(o=t.buttons).push.apply(o,__spread(n.availableButtons)),n.extensionInstance&&e.push(n.extensionInstance)});var n=__spread(this[PROPS.NATIVE_EXTENSIONS],e,[new tiptapExtensions.Placeholder({emptyNodeClass:"tiptap-vuetify-editor__paragraph--is-empty",emptyNodeText:this[PROPS.PLACEHOLDER],showOnlyWhenEditable:!0})]);this.editor=new tiptap.Editor(__assign({extensions:n},this[PROPS.EDITOR_PROPERTIES],{content:this[PROPS.VALUE],onUpdate:this.onUpdate})),this.$emit(EVENTS.INIT,{editor:this.editor})},e.prototype.onUpdate=function(t){var e;this.emitAfterOnUpdate=!0,e="html"===this[PROPS.OUTPUT_FORMAT]?t.getHTML():JSON.stringify(t.getJSON()),this.$emit(EVENTS.INPUT,e,t)},e.prototype.beforeDestroy=function(){this.editor&&this.editor.destroy()},n=PROPS.VALUE,o=PROPS.EXTENSIONS,i=PROPS.PLACEHOLDER,r=PROPS.OUTPUT_FORMAT,a=PROPS.TOOLBAR_ATTRIBUTES,u=PROPS.EDITOR_PROPERTIES,s=PROPS.NATIVE_EXTENSIONS,__decorate([Prop({type:String,default:""}),__metadata("design:type",String)],e.prototype,n,void 0),__decorate([Prop({type:Array,default:function(){return[]}}),__metadata("design:type",Object)],e.prototype,o,void 0),__decorate([Prop({type:String}),__metadata("design:type",String)],e.prototype,i,void 0),__decorate([Prop({type:String,default:"html"}),__metadata("design:type",String)],e.prototype,r,void 0),__decorate([Prop({type:[Array,Object],default:function(){return{}}}),__metadata("design:type",Object)],e.prototype,a,void 0),__decorate([Prop({type:Object,default:function(){return{}}}),__metadata("design:type",Object)],e.prototype,u,void 0),__decorate([Prop({type:Array,default:function(){return[]}}),__metadata("design:type",Object)],e.prototype,s,void 0),__decorate([Watch("value"),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onValueChange",null),e=__decorate([Component({components:{Bubble:Bubble,EditorContent:tiptap.EditorContent,Toolbar:Toolbar}})],e)}(Vue);const __vue_script__$2=TiptapVuetify;var __vue_render__$2=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.editor?n("div",{staticClass:"tiptap-vuetify-editor"},[t.hasLink?n("bubble",{attrs:{editor:t.editor}}):t._e(),t._v(" "),n("v-card",[t._t("toolbar-before"),t._v(" "),n("toolbar",{attrs:{editor:t.editor,buttons:t.buttons,"toolbar-attributes":t.$props[t.PROPS.TOOLBAR_ATTRIBUTES]},scopedSlots:t._u([t.$scopedSlots.toolbar?{key:"default",fn:function(e){return[t._t("toolbar",null,null,e)]}}:null],null,!0)}),t._v(" "),t._t("toolbar-after"),t._v(" "),n("div",{staticClass:"tiptap-vuetify-editor__content"},[n("editor-content",{attrs:{editor:t.editor}})],1),t._v(" "),t._t("footer")],2)],1):t._e()},__vue_staticRenderFns__$2=[];const __vue_inject_styles__$2=void 0,__vue_scope_id__$2=void 0,__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1;var TiptapVuetify$1=normalizeComponent_1({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},void 0,__vue_script__$2,void 0,!1,void 0,void 0,void 0),I18nText=function(){function t(t,e){this.text=getMsg(t,e)}return t.prototype.toString=function(){return this.text},t}(),Heading=function(t){function e(e){return t.call(this,e,tiptapExtensions.Heading)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){return this.options.levels.map(function(t){var e;return{name:"heading",tooltip:new I18nText("extensions.Heading.buttons.heading.tooltip",{level:t}),icons:(e={},e.md=new TextIcon("H"+t),e.fa=new TextIcon("H"+t),e.mdi=new TextIcon("H"+t),e),clickOptions:{level:t},isActiveOptions:{level:t}}})},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),Bold=function(t){function e(e){return t.call(this,e,tiptapExtensions.Bold)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:"bold",tooltip:new I18nText("extensions.Bold.buttons.bold.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_bold"),t.fa=new VuetifyIcon("fas fa-bold "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-bold"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),Italic=function(t){function e(e){var n=t.call(this,e,tiptapExtensions.Italic)||this;return n.name="italic",n}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:this.name,tooltip:new I18nText("extensions.Italic.buttons.italic.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_italic"),t.fa=new VuetifyIcon("fas fa-italic "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-italic"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),Strike=function(t){function e(e){return t.call(this,e,tiptapExtensions.Strike)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:"strike",tooltip:new I18nText("extensions.Strike.buttons.strike.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_strikethrough"),t.fa=new VuetifyIcon("fas fa-strikethrough "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-strikethrough"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),Underline=function(t){function e(e){return t.call(this,e,tiptapExtensions.Underline)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:"underline",tooltip:new I18nText("extensions.Underline.buttons.underline.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_underline"),t.fa=new VuetifyIcon("fas fa-underline "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-underline"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),Code=function(t){function e(e){var n=t.call(this,e,tiptapExtensions.Code)||this;return n.name="code",n}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:this.name,tooltip:new I18nText("extensions.Code.buttons.code.tooltip"),icons:(t={},t.md=new VuetifyIcon("code"),t.fa=new VuetifyIcon("fas fa-code "+faIconsSize),t.mdi=new VuetifyIcon("mdi-code-tags"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),CodeBlock=function(t){function e(e){var n=t.call(this,e,tiptapExtensions.CodeBlock)||this;return n.name="code_block",n}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:this.name,tooltip:new I18nText("extensions.CodeBlock.buttons.codeBlock.tooltip"),icons:(t={},t.md=new VuetifyIcon("code"),t.fa=new VuetifyIcon("fas fa-code "+faIconsSize),t.mdi=new VuetifyIcon("mdi-code-tags"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),Paragraph=function(t){function e(e){return t.call(this,e,null)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:"paragraph",tooltip:new I18nText("extensions.Paragraph.buttons.paragraph.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_textdirection_l_to_r"),t.fa=new VuetifyIcon("fas fa-paragraph "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-paragraph"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),BulletList=function(t){function e(e){var n=t.call(this,e,tiptapExtensions.BulletList)||this;return n.name="bullet_list",n}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:this.name,tooltip:new I18nText("extensions.BulletList.buttons.bulletList.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_list_bulleted"),t.fa=new VuetifyIcon("fas fa-list-ul "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-list-bulleted"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),OrderedList=function(t){function e(e){return t.call(this,e,tiptapExtensions.OrderedList)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:"ordered_list",tooltip:new I18nText("extensions.OrderedList.buttons.orderedList.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_list_numbered"),t.fa=new VuetifyIcon("fas fa-list-ol "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-list-numbered"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),ListItem=function(t){function e(e){return t.call(this,e,tiptapExtensions.ListItem)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){return[]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),Blockquote=function(t){function e(e){return t.call(this,e,tiptapExtensions.Blockquote)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:"blockquote",tooltip:new I18nText("extensions.Blockquote.buttons.blockquote.tooltip"),icons:(t={},t.md=new VuetifyIcon("format_quote"),t.fa=new VuetifyIcon("fas fa-quote-right "+faIconsSize),t.mdi=new VuetifyIcon("mdi-format-quote-close"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),HardBreak=function(t){function e(e){var n=t.call(this,e,tiptapExtensions.HardBreak)||this;return n.name=null,n}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){return[]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),HorizontalRule=function(t){function e(e){var n=t.call(this,e,tiptapExtensions.HorizontalRule)||this;return n.name="horizontal_rule",n}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t;return[{name:this.name,tooltip:new I18nText("extensions.HorizontalRule.buttons.horizontalRule.tooltip"),icons:(t={},t.md=new TextIcon("—"),t.fa=new VuetifyIcon("fas fa-minus "+faIconsSize),t.mdi=new VuetifyIcon("mdi-minus"),t)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),History=function(t){function e(e){return t.call(this,e,tiptapExtensions.History)||this}return __extends(e,t),Object.defineProperty(e.prototype,"availableButtons",{get:function(){var t,e;return[{name:"undo",tooltip:new I18nText("extensions.History.buttons.undo.tooltip"),icons:(t={},t.md=new VuetifyIcon("undo"),t.fa=new VuetifyIcon("fas fa-undo "+faIconsSize),t.mdi=new VuetifyIcon("mdi-undo"),t)},{name:"redo",tooltip:new I18nText("extensions.History.buttons.redo.tooltip"),icons:(e={},e.md=new VuetifyIcon("redo"),e.fa=new VuetifyIcon("fas fa-redo "+faIconsSize),e.mdi=new VuetifyIcon("mdi-redo"),e)}]},enumerable:!0,configurable:!0}),e}(AbstractExtensionAdapter),TiptapVuetifyPlugin=new(function(){function t(){this.installed=!1}return Object.defineProperty(t.prototype,"vuetify",{get:function(){return this.currentVuePrototype[VuetifyVuePrototypeProperty]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vuetifyLang",{get:function(){var t=this.vuetify;return t&&t.lang&&t.lang.current||null},enumerable:!0,configurable:!0}),t.prototype.install=function(t,e){void 0===e&&(e={});var n=e.iconsGroup,o=void 0===n?theme.defaultIconsGroup:n;t.prototype.$tiptapVuetify={iconsGroup:o},t.prototype.tiptapVuetifyPlugin=TiptapVuetifyPlugin,this.currentVueFuncConstructor=t,this.currentVuePrototype=t.prototype,this.checkVuetifyLang(),this.installed=!0},t.prototype.checkVuetifyLang=function(){this.vuetifyLang||ConsoleLogger$1.warn("Could not determine language, because Vue.prototype."+VuetifyVuePrototypeProperty+'is not available. Using language "'+defaultLanguage+'" by default.')},t}());exports.Blockquote=Blockquote,exports.Bold=Bold,exports.BulletList=BulletList,exports.Code=Code,exports.CodeBlock=CodeBlock,exports.HardBreak=HardBreak,exports.Heading=Heading,exports.History=History,exports.HorizontalRule=HorizontalRule,exports.Italic=Italic,exports.Link=Link,exports.ListItem=ListItem,exports.OrderedList=OrderedList,exports.Paragraph=Paragraph,exports.Strike=Strike,exports.TiptapVuetify=TiptapVuetify$1,exports.TiptapVuetifyPlugin=TiptapVuetifyPlugin,exports.Underline=Underline;
